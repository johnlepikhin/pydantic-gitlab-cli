# Perfect GitLab CI configuration
stages:
  - build

variables:
  PROMETHEUS_EXPORTER: "enabled"  # To satisfy monitoring rule

build_job:
  stage: build
  image: node:18-alpine  # Alpine image to satisfy size rule
  timeout: 10m           # Timeout to satisfy timeout rule
  cache:
    key: ${CI_COMMIT_REF_SLUG}  # Key for cache rule
    paths:
      - node_modules/
  script:
    - npm ci  # No raw package installation
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 day  # Satisfies artifact expiration rule